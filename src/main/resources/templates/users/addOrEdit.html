<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header::header}">
</head>
<div class="container">
<form th:action="@{/users/user}" method="post" id="userForm">
	<input type="hidden" name="id" th:value="${user.id}" th:if="${user}!=null"/>
	<input type="hidden" name="_method" value="PUT" th:if="${user}!=null"/>
	<div class="form-group ">
		<label for="username" class="col-form-label">账号</label>
		<input type="text" class="form-control" id="username" name="username" th:value="${user}!=null?${user.username}" maxlength="50" th:placeholder="请输入账号，至少3个字符，至多20个">
	</div>
	<div class="form-group">
		<label for="email" class="col-form-label">邮箱</label>
		<input type="email" class="form-control" id="email" name="email" th:value="${user}!=null?${user.email}" maxlength="50" th:placeholder="请输入邮箱">
	</div>
	<div class="form-group">
		<label for="name" class="col-form-label">姓名</label>
		<input type="text" class="form-control" id="name" name="name" th:value="${user}!=null?${user.name}" maxlength="20" th:placeholder="请输入姓名，至少2个字符，至多20个" >
	</div>
	<div class="form-group">
		<label for="password" class="col-form-label">密码</label>
		<input type="password" class="form-control" id="password" name="password" maxlength="30" th:placeholder="请输入密码，字母或特殊符号和数字结合" >
	</div>
	<div class="form-group">
		<label for="authorities" class="col-form-label">角色</label>
  		<select id="authorities" name="authorityId" class="form-control form-control-chosen" data-placeholder="请选择">
		  <option value="1" th:selected="${user}!=null?${#strings.contains(user.authorities[0],'ROLE_ADMIN')}:'false'">管理员</option>
		  <option value="2" th:selected="${user}!=null?${#strings.contains(user.authorities[0],'ROLE_USER')}:'false'">博主</option>
		</select>
	</div>
	<div class="form-group">
		<button type="submit" class="btn btn-primary" th:if="${user}==null">添加</button>
		<button type="submit" class="btn btn-primary" th:if="${user}!=null">更新</button>
	</div>
</form>
 
</div>
<!-- /.container -->
<div th:replace="~{fragments/footer::footer}"></div>
 </html>